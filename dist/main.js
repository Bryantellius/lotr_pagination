(()=>{"use strict";let e=0;const t=new class{constructor(){this.characterContainer=document.querySelector(".characterContainer"),this.form=document.querySelector("form"),this.character=document.querySelector("#character"),this.searchBtn=document.querySelector("#searchBtn"),this.prevBtn=document.querySelector("#prev"),this.nextBtn=document.querySelector("#next"),this.pagination=document.querySelector(".pagination"),this.allBtn=document.querySelector("#allBtn")}updateCharacters(e){this.characterContainer.innerHTML="",0==e.length&&e.push({name:"No Search Results"});for(let t of e){let e=document.createElement("p");e.textContent=t.name,this.characterContainer.appendChild(e)}}toggleSearchBtn(e){e.target.value.trim().length<1?this.searchBtn.disabled=!0:this.searchBtn.disabled=!1}updatePage(t){console.log(t),e=t,this.fetchCharacters()}searchCharacter(e){e.preventDefault(),console.log(this.character.value),this.fetchCharacters(this.character.value),this.character.value=""}async fetchCharacters(t){try{let a=`https://the-one-api.dev/v2/character?limit=10&offset=${e}${t?`&name=${t}`:""}`,r=await fetch(a,{mode:"cors",headers:{Authorization:"Bearer zdciuWuUveAQkLfroNNm"}}),c=await r.json();console.log(c),this.updateCharacters(c.docs),this.updatePagination(c.total)}catch(e){console.error(e)}}updatePagination(t){this.pagination.innerHTML="";let a=Math.floor(t/10),r=e/10,c=r-5<0?0:r-5,n=c+10>a-1?a:c+10;for(let e=c;e<n;e++){console.log(e);let t=document.createElement("a");t.classList.add("pagination-item"),e==r&&t.classList.add("active-pagination-item"),t.textContent=e+1,t.ariaLabel="View results page "+(e+1),t.href="#",t.addEventListener("click",(()=>this.updatePage(10*e))),this.pagination.appendChild(t)}}};t.fetchCharacters(),t.character.addEventListener("keyup",(e=>t.toggleSearchBtn(e))),t.form.addEventListener("submit",(e=>t.searchCharacter(e))),t.allBtn.addEventListener("click",(e=>t.fetchCharacters()))})();