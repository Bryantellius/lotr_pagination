(()=>{"use strict";let e=0;const t=new class{constructor(){this.characterContainer=document.querySelector(".characterContainer"),this.form=document.querySelector("form"),this.character=document.querySelector("#character"),this.searchBtn=document.querySelector("#searchBtn"),this.prevBtn=document.querySelector("#prev"),this.nextBtn=document.querySelector("#next")}updateCharacters(e){this.characterContainer.innerHTML="";for(let t of e){let e=document.createElement("p");e.textContent=t.name,this.characterContainer.appendChild(e)}}toggleSearchBtn(e){e.target.value.trim().length<1?this.searchBtn.disabled=!0:this.searchBtn.disabled=!1}updatePagination(t){e+=t,t>0&&(this.prevBtn.disabled=!1),fetchCharacters()}searchCharacter(e){e.preventDefault(),console.log(this.character.value),this.fetchCharacters(this.character.value),this.character.value=""}async fetchCharacters(t){let r=`https://the-one-api.dev/v2/character?limit=10&offset=${e}${t?`&name=${t}`:""}`,a=await fetch(r,{mode:"cors",headers:{Authorization:"Bearer zdciuWuUveAQkLfroNNm"}}),c=await a.json();console.log(c),this.updateCharacters(c.docs)}};t.fetchCharacters(),t.character.addEventListener("keyup",(e=>t.toggleSearchBtn(e))),t.prevBtn.addEventListener("click",(()=>t.updateCharacters(-10))),t.nextBtn.addEventListener("click",(()=>t.updatePagination(10))),t.form.addEventListener("submit",(e=>t.searchCharacter(e)))})();